/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package dynamite;

import com.pi4j.wiringpi.Serial;

/**
 *
 * @author e356227
 */
public class SerialComm2 {
    
    int serialPort;
    
    public SerialComm2() throws Exception {
        serialPort = Serial.serialOpen(Serial.DEFAULT_COM_PORT, 9600);
        if (serialPort == -1) {
            System.out.println("Serial Port Failed");
            throw new Exception("Serial Port Failed: SerialComm2 line 21");
        }
        else {
            System.out.println("Default Serial Port Initialized");
        }
    }
    
    public char[] readFromSerialPort() {
        Serial.serialPuts(serialPort, "HI");
        
        while (true) {
            if (Serial.serialDataAvail(serialPort) > 0) {
                char inputChar = (char) Serial.serialGetchar(serialPort);
                System.out.println(inputChar);
            }
        }
        //Serial.serialClose(serialPort);
        
    }
    
}
